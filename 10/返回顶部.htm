<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="./move.js" type="text/javascript"></script>
    <style type="text/css">
        #top {
            display: none;
            background: url(./images/topnew.png) 0 0 no-repeat;
            width: 75px;
            height: 75px;
            position: absolute;
            right: 0;
            bottom: 0;
            cursor: pointer;
            outline: none;
            opacity: 0;
        }
        #top:hover {
            background:url(./images/topnew.png) 0 -75px no-repeat;
        }
    </style>
</head>
<body>
    213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br /> 213123123123123<br />
    213123123123123<br />
    213123123123123<br />
    213123123123123<br />

    
    <a id="top" href="javascript:;"></a>
<script type="text/javascript">
new function() {
    var timer = null;
    var power = true;
	var backTop = document.getElementById('top');
	//获取滚动距离
	window.onscroll = function() {
		var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
		if (scrollTop > document.documentElement.clientHeight / 2) {
			backTop.style.display = 'block';
			backTop.style.top = document.documentElement.clientHeight - backTop.offsetHeight + scrollTop + 'px';
			startMove(backTop, {opacity: 100});
		} else {
			backTop.style.display = 'none';
        }
        if(power == false) { //再被拉时则清除
            clearInterval(timer);
        }
        power = false;//手动往下拉
        console.log(power);
	}
	backTop.onclick = function() {
		upScroll();
	}
	function upScroll() {
		clearInterval(timer);
		var speed = 0;
		timer = setInterval(function() {
			var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
			speed = (0 - scrollTop) / 8;
			speed = Math.floor(speed);
			if (scrollTop == 0) {
				clearInterval(timer);
            } else {
				document.documentElement.scrollTop = scrollTop + speed;
				document.body.scrollTop = scrollTop + speed;
                }
              power = true;//往上拉
                 console.log(power);
		},30);
	}
}
    </script>
</body>
</html>
