<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="./move.js" type="text/javascript"></script>
    <style type="text/css">
        #focus {
            margin: 0 auto;
            width: 497px;
            border: 5px solid #ccc;
            height: 180px;
            overflow: hidden;
            position: relative;
        }
        ul {
         list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .focus-list {
            position: absolute;

        }
        .focus-list li {
            float: left;
        }
        .focus-list img {
            width: 497px;
            height: 180px;
            display: block;
        }
        #link {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        #link .active {
            background: #E22900;
        }
        #link li {
            width: 20px;
            height: 20px;
            background: #ccc;
            text-align: center;
            float: left;
            margin-left: 5px;
            line-height: 20px;
            color: #fff;
        }
    </style>
</head>
<body>
    <div id="focus">
    <ul class="focus-list">
        <li><img src="./1.jpg" alt="" /></li>
        <li><img src="./2.jpg" alt="" /></li>
        <li><img src="./3.jpg" alt="" /></li>
        <li><img src="./4.jpg" alt="" /></li>
        <li><img src="./5.jpg" alt="" /></li>
    </ul>
    <ul id="link">
        <li class="active">1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
    </ul>
    </div>
    <script type="text/javascript">
        //构造函数
    function TabShow(){
        //属性
        this.list = getClassName(document, 'focus-list', 'ul')[0];
        this.getfocus = document.getElementById('focus');
        this.timer = null;
        this.link = document.getElementById('link'); //按钮
        this.item = link.getElementsByTagName('li');
        this.maxHeight = parseInt(getStyle(this.list.getElementsByTagName('img')[0], 'width')); //图片宽度
        this.list.style.width = this.maxHeight * this.list.getElementsByTagName('li').length + 'px';
        that = this //对象this引用 that
        for (var i = 0; i <this.item.length; i++) {
            this.item[i].index = i;
            this.item[i].onclick = function() {
                that.move(this);//这里this指按钮他没有mov方法
            }
        }
       
    }
 // 原型方法
        TabShow.prototype.move = function (current) {
            //current指的是按钮的this
            for (var i = 0; i < this.item.length; i++) {
                this.item[i].className = '';
            }
            this.item[current.index].className = 'active';
            startMove(this.list, 'left', current.index * - this.maxHeight);
        }
var tab = new TabShow();
//获取className
function getClassName(oPrent, sClassName, sTagName) {
	var els = oPrent.getElementsByTagName(sTagName);
	var arr = [];
	for (var i = 0; i < els.length; i++) {
		if (els[i].className == sClassName) {
			arr.push(els[i]);
		}
	}
	return arr;
}
    </script>
</body>
</html>
