<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        #pulley {
    border: 1px solid #A7A6AC;
    color: #666666;
    font-size: 14px;
    height: 26px;
    line-height: 26px;
    text-align: center;
    margin: 0;
    width: 52px;
    box-shadow: 1px 1px 1px #ccc inset;
}
a{
    text-decoration: none;
    font-size: 14px;
    height: 33px;
    line-height: 33px;
    margin:0 -4px;
    text-align: center;
    vertical-align: middle;
    width: 12px;
    color:#ccc;
    background: #eee;
    display: inline-block;
    * vertical-align: top;
    *display: inline;
    *zoom:1
   
}
    </style>
</head>
<body style="height: 2000px;">
    <span>
        <a id="plus" href="javascript:;">-</a>
        <input id="pulley" type="text" value="0" />
        <a id="cut" href="javascript:;">+</a>
    </span>
    <script type="text/javascript">
        new function () {
            var pulley = document.getElementById('pulley');
            pulley.addEventListener('DOMMouseScroll',mouseScroll,false);
            pulley.onkeyup = function () {
             if(isNaN(Number(pulley.value))) {
                   alert('请输入数字');
                   this.value = '';
                    return;
                }
            }
            pulley.onkeydown = function (event) {
                var oEvent = event || window.event;
                console.log(oEvent.keyCode);
                if(oEvent.keyCode == 8 || (oEvent.keyCode > 48 && oEvent.keyCode < 57 || oEvent.keyCode == 116)) {
                    return true;
                } else {
                    return false;
                }
            }
            pulley.onfocus = function () {
                 
                if(this.value == 0){
                    this.value = 0;
                }
                this.select();
            }
            pulley.onblur = function () {
                if(this.value == ''){
                    this.value = 0;
                }
            }
            function mouseScroll(event) {
                var oEvent = event || window.event;
                var slide = true;
                if(oEvent.wheelDelta) {
                    slide = oEvent.wheelDelta > 0 ? true : false;
                } else {
                    slide = oEvent.detail < 0 ? true : false;
                }
                if(slide) {
                    pulley.value ++;
                } else {
                    pulley.value --;
                    if(pulley.value <=0) {
                        pulley.value = 0;
                    }
                }
                if(oEvent.preventDefault) {
                    oEvent.preventDefault();
                }
                return false;
            }

        }
    </script>
</body>
</html>
